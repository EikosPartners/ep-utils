{"version":3,"sources":["../src/fsWrapper.js"],"names":[],"mappings":";;AAAC,IAAI,KAAK,QAAQ,IAAR,CAAT;;AAED,OAAO,OAAP,GAAiB;AACb,oBAAgB,wBAAU,QAAV,EAAoB,IAApB,EAA0B;AACtC,YAAI,UAAU,KAAK,SAAL,CAAe,IAAf,EAAqB,IAArB,EAA2B,CAA3B,CAAd;AACA,WAAG,aAAH,CAAiB,QAAjB,EAA2B,OAA3B;AACH,KAJY;AAKb,oBAAgB,wBAAU,QAAV,EAAoB;AAChC,YAAI;AACA,mBAAO,KAAK,KAAL,CAAW,GAAG,YAAH,CAAgB,QAAhB,CAAX,CAAP;AACH,SAFD,CAEE,OAAO,GAAP,EAAY;AACV,oBAAQ,KAAR,CAAc,8BAA8B,QAA5C,EAAsD,GAAtD;AACA,mBAAO,EAAP;AACH;AACJ,KAZY;AAab,gBAAY,oBAAU,QAAV,EAAoB,IAApB,EAA0B,QAA1B,EAAoC;AAC5C,YAAI;AACA,gBAAG,SAAS,SAAZ,EAAuB;AACnB,oBAAI,SAAS,KAAK,SAAL,CAAe,IAAf,EAAqB,IAArB,EAA2B,CAA3B,CAAb;AACA,mBAAG,SAAH,CAAa,QAAb,EAAuB,MAAvB,EAA+B,UAAS,GAAT,EAAc,IAAd,EAAoB;AAC/C,wBAAI,GAAJ,EAAQ;AACL,iCAAS,EAAC,SAAS,GAAV,EAAT;AACF;AACD,6BAAS,IAAT,EAAe,EAAC,QAAQ,IAAT,EAAf;AACH,iBALD;AAMH,aARD,MAQO;AACH,sBAAM,IAAI,KAAJ,CAAU,wBAAV,CAAN;AACH;AACJ,SAZD,CAYE,OAAO,GAAP,EAAY;AACV,oBAAQ,KAAR,CAAc,4BAA4B,QAA1C,EAAoD,GAApD;AACA,qBAAS,EAAC,SAAS,GAAV,EAAT;AACH;AACJ,KA9BY;AA+Bb,gBAAY,oBAAU,QAAV,EAAoB,QAApB,EAA8B;AACtC,YAAI;AACA,eAAG,QAAH,CAAY,QAAZ,EAAsB,MAAtB,EAA8B,UAAS,GAAT,EAAc,IAAd,EAAmB;AAC7C,oBAAG,GAAH,EAAO;AACH,6BAAS,EAAC,SAAS,GAAV,EAAT;AACA;AACH;AACD,oBAAI;AACA,wBAAI,SAAS,KAAK,KAAL,CAAW,IAAX,CAAb;AACA,6BAAS,IAAT,EAAe,MAAf;AACH,iBAHD,CAGE,OAAM,IAAN,EAAY;AACV,4BAAQ,GAAR,CAAY,SAAZ,EAAuB,IAAvB;AACH;AACJ,aAXD;AAYH,SAbD,CAaE,OAAO,GAAP,EAAY;;AAEV,oBAAQ,KAAR,CAAc,iCAAiC,QAA/C,EAAyD,GAAzD;AACA,qBAAS,EAAC,SAAS,GAAV,EAAT;AACH;AACJ;AAlDY,CAAjB","file":"fsWrapper.js","sourcesContent":["ï»¿var fs = require(\"fs\");\r\n\r\nmodule.exports = {\r\n    jsonToFileSync: function (fileName, json) {\r\n        var strJson = JSON.stringify(json, null, 4);\r\n        fs.writeFileSync(fileName, strJson);\r\n    },\r\n    fileToJsonSync: function (fileName) {\r\n        try {\r\n            return JSON.parse(fs.readFileSync(fileName));\r\n        } catch (err) {\r\n            console.error(\"error parsing JSON file: \" + fileName, err);\r\n            return {};\r\n        }\r\n    },\r\n    jsonToFile: function (filename, json, callback) {\r\n        try {\r\n            if(json !== undefined) {\r\n                var string = JSON.stringify(json, null, 4);\r\n                fs.writeFile(filename, string, function(err, data) {\r\n                    if (err){\r\n                       callback({\"error\": err });\r\n                    }\r\n                    callback(null, {\"data\": json});\r\n                });\r\n            } else {\r\n                throw new Error(\"File body is undefined\");\r\n            }\r\n        } catch (err) {\r\n            console.error(\"error writing to file: \" + filename, err);\r\n            callback({\"error\": err });\r\n        }\r\n    },\r\n    fileToJson: function (filename, callback) {\r\n        try {\r\n            fs.readFile(filename, 'utf8', function(err, data){\r\n                if(err){\r\n                    callback({\"error\": err });\r\n                    return;\r\n                }\r\n                try {\r\n                    var parsed = JSON.parse(data);\r\n                    callback(null, parsed);\r\n                } catch(err2) {\r\n                    console.log('in data', err2);\r\n                }\r\n            });\r\n        } catch (err) {\r\n\r\n            console.error(\"error converting from file: \" + filename, err);\r\n            callback({\"error\": err });\r\n        }\r\n    }\r\n};\r\n"]}